name: download
on:
  workflow_dispatch:
jobs:
  download:
    name: Build project
    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v3
      with:
          submodules: 'recursive'
    
    - name: git clone
      run: |
          cd edk2/BaseTools/Bin/
          git clone https://github.com/tianocore/edk2-BaseTools-win32.git --recurse-submodules
          mv edk2-BaseTools-win32 Win32
          cd Win32
          curl -L -O https://gist.githubusercontent.com/facelordgists/80e868ff5e315878ecd6/raw/d9297bdd07f6105397f34113ef2ddccd95e54461/delete-git-recursively.sh
          chmod 755 delete-git-recursively.sh
          ./delete-git-recursively.sh

          
    - name: Commit & Push changes
      uses: actions-js/push@master
      with:
        github_token: ${{ secrets.GITHUB_TOKEN }}
        branch: "MiniVisorPkg"
